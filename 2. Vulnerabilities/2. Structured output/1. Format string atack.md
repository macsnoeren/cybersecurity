# 1. Format String Attack

## Code example (C)
```c
// format_string_demo.c
#include <stdio.h>
#include <string.h>

int secret_value = 0x12345678;

void vulnerable_printf(char *user_input) {
    printf("User input: ");
    printf(user_input);  // VULNERABLE - user controls format string
    printf("\n");
}

void safe_printf(char *user_input) {
    printf("User input: %s\n", user_input);  // SAFE - format string is controlled
}

int main() {
    printf("=== Format String Vulnerability Demo ===\n");
    printf("Secret value stored at: %p (value: 0x%x)\n", &secret_value, secret_value);
    printf("\nTest 1: Normal string\n");
    vulnerable_printf("Hello World");
    
    printf("\nTest 2: Format string attack - reading stack\n");
    vulnerable_printf("%x %x %x %x");
    
    printf("\nTest 3: Format string attack - reading specific address\n");
    vulnerable_printf("%s");
    
    printf("\nTest 4: Safe version\n");
    safe_printf("%x %x %x %x");
    
    return 0;
}
```

## Steps
1. Explain how printf processes format specifiers
2. Show normal usage with controlled format strings
3. Demonstrate how user input can become format string
4. Show stack memory disclosure
5. Discuss information leakage risks
6. Show the safe alternative

## Output
```shell
=== Format String Vulnerability Demo ===
Secret value stored at: 0x601040 (value: 0x12345678)

Test 1: Normal string
User input: Hello World

Test 2: Format string attack - reading stack
User input: 7ffe1234 12345678 601040 400596

Test 3: Format string attack - reading specific address
User input: (null)

Test 4: Safe version
User input: %x %x %x %x
```
